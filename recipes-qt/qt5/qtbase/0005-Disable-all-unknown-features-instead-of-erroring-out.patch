From 038242ebbaa2153a0ac7e81dffcac2b0b6eedc6c Mon Sep 17 00:00:00 2001
From: Samuli Piippo <samuli.piippo@qt.io>
Date: Mon, 24 Oct 2016 09:45:18 +0300
Subject: [PATCH] Disable all unknown features instead of erroring out

Task-number: QTBUG-56656
Change-Id: Ib884fe33cac74439f9592b145937f6b75ced8447
Upstream-Status: Pending
Signed-off-by: Martin Jansa <Martin.Jansa@gmail.com>
---
 mkspecs/features/qt_configure.prf | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/mkspecs/features/qt_configure.prf b/mkspecs/features/qt_configure.prf
index 850ee98057..7b591dc8bb 100644
--- a/mkspecs/features/qt_configure.prf
+++ b/mkspecs/features/qt_configure.prf
@@ -1598,7 +1598,8 @@ defineReplace(qtConfEvaluateSingleExpression) {
                     error("Expression '$$1' is accessing field '$$var' of non-local feature $${feature}.")
                 return($$result)
             }
-            error("Unknown feature object $${feature} in expression '$${1}'.")
+            warning("Unknown feature object $${feature} in expression '$${1}'.")
+            result = false
         }
         !qtConfCheckFeature($$feature): \
             error("Expression '$$1' is accessing non-emitted feature $${feature}.")
